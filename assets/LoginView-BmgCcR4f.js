import{r as c,b as u,d as m,n,j as _,y as f,q as g,C as b,g as o,t as v,k as V,F as w,D as y}from"./index-CCBOy4QL.js";import{_ as p,u as x}from"./useMutation-BWfUzkP4.js";import{_ as L}from"./IButton-CRaUEi3Z.js";const S={__name:"LoginForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(d,{emit:l}){const i=d,t=l,e=c({email:"",password:""});return(r,a)=>(u(),m("form",{onSubmit:a[2]||(a[2]=g(s=>t("submit",e.value),["prevent"]))},[n(p,{class:"mb-4",type:"email",label:"Електронна пошта",modelValue:e.value.email,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value.email=s)},null,8,["modelValue"]),n(p,{type:"password",label:"Пароль",modelValue:e.value.password,"onUpdate:modelValue":a[1]||(a[1]=s=>e.value.password=s)},null,8,["modelValue"]),n(L,{class:"mt-10 w-full",variant:"gradient",type:"submit","is-loading":i.isLoading},{default:_(()=>[f("Увійти")]),_:1},8,["is-loading"])],32))}},k={key:0,class:"text-red-500"},C={__name:"LoginView",setup(d){const l=b(),{isLoading:i,error:t,mutation:e}=x({mutationFn:r=>y.login(r),onSuccess:()=>l.replace("/map")});return(r,a)=>(u(),m(w,null,[n(S,{onSubmit:o(e),"is-loading":o(i)},null,8,["onSubmit","is-loading"]),o(t)?(u(),m("div",k,v(o(t).message),1)):V("",!0)],64))}};export{C as default};
